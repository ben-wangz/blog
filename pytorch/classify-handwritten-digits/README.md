# classify handwritten digits

## local

1. prepare virtual environment
    * ```shell
      python3 -m venv .venv
      source .venv/bin/activate
      pip3 install -r requirements.txt
      ```
2. prepare dataset
    * dataset will be loaded automatically in `trainning.py` and `prediction.py`
3. tranning
    * ```shell
      python3 trainning.py
      ```
4. prediction
    * ```shell
      python3 prediction.py
      ```

## container

1. build container image
    * ```shell
      bash container/build.sh
      ```
2. tranning
    * ```shell
      mkdir -p /tmp/.data /tmp/.model
      podman run --rm \
          -v /tmp/.data:/app/classify-handwritten-digits/.data \
          -v /tmp/.model:/app/classify-handwritten-digits/.model \
          -it localhost/ben.wangz/classify-handwritten-digits:latest \
          python3 /app/classify-handwritten-digits/trainning.py
      ```
3. prediction
    * ```shell
      # /tmp/.data is the data directory which is generated by tranning
      # /tmp/.model is the model directory which is generated by tranning
      podman run --rm \
          -v /tmp/.data:/app/classify-handwritten-digits/.data \
          -v /tmp/.model:/app/classify-handwritten-digits/.model \
          -it localhost/ben.wangz/classify-handwritten-digits:latest \
          python3 /app/classify-handwritten-digits/prediction.py
      ```